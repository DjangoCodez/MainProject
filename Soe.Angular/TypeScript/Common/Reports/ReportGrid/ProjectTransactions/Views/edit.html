<form name="ctrl.edit" class="ngSoeForm" novalidate autocomplete="off">
    <soe-progressbar is-busy="ctrl.progress.progressBusy" message="ctrl.progress.progressMessage"></soe-progressbar>

    <div data-ng-if="!ctrl.progress.progressBusy">
        <div>

            <soe-panel label-key="common.report.selection.reportselection">
                <div class="form-group form-group-sm">
                    <div class="col-sm-8">
                        <div class="row">
                            <div class="col-sm-4">
                                <soe-textbox label-key="common.report.selection.selectionname" model="ctrl.selectionName" maxlength="50"></soe-textbox>
                            </div>
                            <div class="col-sm-3">
                                <soe-select label-key="common.report.selection.exporttype" model="ctrl.report.exportType" items="ctrl.exportTypes" options="item.id as item.name for item in items"></soe-select>
                            </div>
                        </div>
                    </div>
                </div>
            </soe-panel>
            <soe-panel label-key="common.report.selection.transactionselection">
                <div class="form-group form-group-sm">
                    <div class="row margin-small-top">
                        <div class="col-sm-2 margin-large-top">
                            <soe-label label-key="common.date"></soe-label>
                        </div>
                        <div class="col-sm-2">
                            <soe-datepicker model="ctrl.invoiceTransactionDateFrom" maxlength="50"></soe-datepicker>
                        </div>
                        <div class="col-sm-2">
                            <soe-datepicker model="ctrl.invoiceTransactionDateTo" maxlength="50"></soe-datepicker>
                        </div>
                    </div>
                    <div class="row" data-ng-hide="ctrl.dim2Header==undefined">
                        <div class="col-sm-2 margin-large-top">
                            <soe-label model="ctrl.dim2Header"></soe-label>
                        </div>
                        <div class="col-sm-2">
                            <soe-select model="ctrl.dim2From" items="ctrl.dim2" options="item.id as item.name for item in items | orderBy: 'name'">></soe-select>
                        </div>
                        <div class="col-sm-2">
                            <soe-select model="ctrl.dim2To" items="ctrl.dim2" options="item.id as item.name for item in items | orderBy: 'name'"></soe-select>
                        </div>
                    </div>
                    <div class="row" data-ng-hide="ctrl.dim3Header==undefined">
                        <div class="col-sm-2 margin-large-top">
                            <soe-label model="ctrl.dim3Header"></soe-label>
                        </div>
                        <div class="col-sm-2">
                            <soe-select data-ng-hide="ctrl.dim3Header==undefined" model="ctrl.dim3From" items="ctrl.dim3" options="item.id as item.name for item in items | orderBy: 'name'"></soe-select>
                        </div>
                        <div class="col-sm-2">
                            <soe-select data-ng-hide="ctrl.dim3Header==undefined" model="ctrl.dim3To" items="ctrl.dim3" options="item.id as item.name for item in items | orderBy: 'name'"></soe-select>
                        </div>
                    </div>
                    <div class="row" data-ng-hide="ctrl.dim4Header==undefined">
                        <div class="col-sm-2 margin-large-top">
                            <soe-label model="ctrl.dim4Header"></soe-label>
                        </div>
                        <div class="col-sm-2">
                            <soe-select model="ctrl.dim4From" items="ctrl.dim4" options="item.id as item.name for item in items | orderBy: 'name'"></soe-select>
                        </div>
                        <div class="col-sm-2">
                            <soe-select model="ctrl.dim4To" items="ctrl.dim4" options="item.id as item.name for item in items | orderBy: 'name'"></soe-select>
                        </div>
                    </div>
                    <div class="row" data-ng-hide="ctrl.dim5Header==undefined">
                        <div class="col-sm-2 margin-large-top">
                            <soe-label model="ctrl.dim5Header"></soe-label>
                        </div>
                        <div class="col-sm-2">
                            <soe-select data-ng-hide="ctrl.dim5Header==undefined" model="ctrl.dim5From" items="ctrl.dim5" options="item.id as item.name for item in items | orderBy: 'name'"></soe-select>
                        </div>
                        <div class="col-sm-2">
                            <soe-select data-ng-hide="ctrl.dim5Header==undefined" model="ctrl.dim5To" items="ctrl.dim5" options="item.id as item.name for item in items | orderBy: 'name'"></soe-select>
                        </div>
                    </div>
                    <div class="row" data-ng-hide="ctrl.dim6Header==undefined">
                        <div class="col-sm-2 margin-large-top">
                            <soe-label model="ctrl.dim6Header" hidelabel="ctrl.dim6Header=undefined"></soe-label>
                        </div>
                        <div class="col-sm-2">
                            <soe-select model="ctrl.dim6From" items="ctrl.dim6" options="item.id as item.name for item in items | orderBy: 'name'"></soe-select>
                        </div>
                        <div class="col-sm-2">
                            <soe-select model="ctrl.dim6To" items="ctrl.dim6" options="item.id as item.name for item in items | orderBy: 'name'"></soe-select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-2">
                            <soe-checkbox model="ctrl.includeChildProjects" label-key="common.report.selection.includesubprojects"></soe-checkbox>
                        </div>
                    </div>
                </div>
            </soe-panel>
            <soe-panel label-key="common.report.selection.projectselection">
                <div class="form-inline btn-toolbar-no-border margin-small-bottom" role="toolbar">
                    <div class="form-group form-group-sm">
                        <soe-multiselect label-key="common.report.selection.projectstatus" options="ctrl.projectStatus" model="ctrl.selectedProjectStatusDict" hidelabel="true" limit-to="20"></soe-multiselect>
                    </div>
                    <div class="form-group form-group-sm">
                        <soe-multiselect label-key="common.categories" options="ctrl.projectCategory" model="ctrl.selectedCategoryDict" hidelabel="true" limit-to="20"></soe-multiselect>
                    </div>
                    <div class="form-group form-group-sm">
                        <soe-checkbox label-key="common.report.selection.withoutenddate" use-ignore-dirty="true" model="ctrl.withoutStopDate"></soe-checkbox>
                    </div>
                    <div class="btn-group">
                        <button type="button" class="btn btn-sm ngSoeMainButton"
                                data-l10n-bind="'core.search'" data-l10n-bind-title="'core.search'" data-ng-click="$event.stopPropagation();ctrl.searchProjects()"></button>
                    </div>

                </div>
                
                <div class="form-group form-group-sm">
                    <div ag-grid="ctrl.soeGridOptions.gridOptions" class="ag-theme-balham" style="height: 100%; width: 100%;"></div>
                    <div id="totals-grid" class="ag-theme-balham" style="height: 25px; width: 100%;" prevent-enter></div>
                </div>
            </soe-panel>
        </div>
        <div class="ngSoeFormFooter">
            <div class="col-sm-12">
                <div class="pull-right">
                     <div class="col">
                         <button type="button" class="btn btn-sm ngSoeMainButton" data-l10n-bind="'common.report.report.print'" data-l10n-bind-title="'common.report.report.print'"  data-ng-click="$event.stopPropagation();ctrl.print()"></button>
                    </div>
                </div>
            </div>
        </div>
</form>