<div class="ngSoeForm form-group form-group-sm">

    <soe-progressbar is-busy="ctrl.progressBusy" message="ctrl.progressMessage"></soe-progressbar>

    <div data-ng-if="!ctrl.progressBusy">
        <soe-toolbar buttons="ctrl.buttonGroups"></soe-toolbar>
        <div class="row">
            <div class="col-sm-2">
                <soe-label label-key="economy.export.paymentservice.batchcid"></soe-label>
            </div>
            <div class="col-sm-2">
                <soe-label label-key="common.service"></soe-label>
            </div>
            <div class="col-sm-2">
            </div>
        </div>
        <div class="row margin-large-bottom">
            <div class="col-sm-2">
                <soe-textbox hidelabel="true" readonly="true" model="ctrl.batchId"></soe-textbox>
            </div>
            <div class="col-sm-2">
                <soe-select hidelabel="true" is-disabled="ctrl.exportPaymentId !== 0" model="ctrl.paymentServiceId" items="ctrl.paymentServices" options="item.id as item.name for item in items" on-changing="ctrl.paymentServiceChanged()"></soe-select>
            </div>
            <div class="col-sm-2">
                <button type="button" class="btn btn-sm ngSoeMainButton" data-l10n-bind="'economy.export.payments.createtemplate'" data-l10n-bind-title="'economy.export.payments.createtemplate'" data-ng-click="$event.stopPropagation();ctrl.createTemplate()" ng-disabled="!(ctrl.paymentServiceId && ctrl.exportPaymentId === 0)"></button>
            </div>
        </div>
        <div class="row margin-large-top">
            <div class="col-sm-12">
                <div ag-grid="ctrl.soeGridOptions.gridOptions" class="ag-theme-balham" height-checker style="height: 800px; width: 100%;"></div>
                <div id="totals-grid" class="ag-theme-balham" style="height: 25px; width: 100%;" prevent-enter></div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-3 col-sm-offset-9">
                <soe-textbox label-key="common.customer.invoices.checkedrows" model="ctrl.selectedTotal | number:2" readonly="true"></soe-textbox>
            </div>
        </div>
        <div class="form-group row margin-small-top">
            <div class="col-sm-12">
                <div class="pull-right">
                    <button type="button" class="btn btn-sm ngSoeMainButton" data-l10n-bind="'economy.export.payments.createexport'" data-l10n-bind-title="'economy.export.payments.createexport'" data-ng-click="$event.stopPropagation();ctrl.export()" ng-disabled="!ctrl.soeGridOptions.getSelectedRows().length > 0"></button>
                </div>
            </div>
        </div>
    </div>
</div>
