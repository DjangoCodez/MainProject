<form name="ctrl.editForm" class="messagebox">
    <div class="modal-header">
        <button type="button" class="close" data-ng-click="ctrl.cancel()">&times;</button>
        <h6 class="modal-title" data-l10n-bind="'billing.productrows.splitaccounting'"></h6>
    </div>
    <soe-progressbar is-busy="ctrl.progressBusy" message="ctrl.progressMessage"></soe-progressbar>
    <div class="modal-body" ng-model="ctrl.accountingRows" split-accounting-validation data-ng-if="!ctrl.progressBusy">
        <soe-toolbar buttons="ctrl.buttonGroups" hide-border="true" no-margin="true">
            <data-ng-include src="ctrl.toolbarInclude" />
        </soe-toolbar>

        <div ag-grid="ctrl.soeGridOptions.gridOptions" class="ag-theme-balham" style="height: 100px; width: 100%;"></div>

        <div class="form-group form-group-sm margin-small-top">
            <div class="row">
                <div class="col-sm-offset-6 col-sm-3">
                    <soe-label label-key="billing.productrows.splitaccounting.totalamount" discreet="true"></soe-label>
                    <soe-label label-key="billing.productrows.splitaccounting.splitamount" discreet="true"></soe-label>
                    <soe-label label-key="billing.productrows.splitaccounting.diffamount" discreet="true"></soe-label>
                </div>
                <div class="col-sm-2 text-right">
                    <soe-text model="ctrl.productRowAmount | amount"></soe-text>
                    <soe-text model="ctrl.splitAmount | amount"></soe-text>
                    <soe-text model="ctrl.diffAmount | amount" text-class="errorColor" text-class-condition="ctrl.hasDiff"></soe-text>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default" data-l10n-bind="'core.cancel'" data-ng-click="ctrl.cancel()"></button>
        <button type="button" class="btn btn-primary" data-l10n-bind="'core.ok'" data-ng-disabled="ctrl.progressBusy || ctrl.hasDiff" data-ng-if="!ctrl.isReadonly" data-ng-click="ctrl.ok()"></button>
    </div>
</form>

