<form name="ctrl.edit" class="ngSoeForm" novalidate autocomplete="off">
    <div class="modal-header">
        <button type="button" class="close" data-ng-click="ctrl.cancel()">&times;</button>
        <h6 class="modal-title" data-l10n-bind="'time.employee.employment.hibernating'"></h6>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-sm-4">
                <soe-textbox label-key="common.name" model="ctrl.timeHibarnatingAbsence.employeeName" readonly="true"></soe-textbox>
            </div>
            <div class="col-sm-4">
                <soe-select label-key="time.employee.employment.hibernatingtimedeviationcause" model="ctrl.selectedTimeDeviationCause" items="ctrl.hibernatingTimeDeviationCauses" options="item.id as item.name for item in items" ></soe-select>
            </div>
        </div>
        <div class="row margin-large-bottom">
            <div class="col-sm-4">
                <soe-datepicker label-key="common.startdate" model="ctrl.dateFrom" is-readonly="true"></soe-datepicker>
            </div>
            <div class="col-sm-4">
                <soe-datepicker label-key="common.stopdate" model="ctrl.dateTo" is-readonly="true"></soe-datepicker>
            </div>
        </div>
        <uib-accordion close-others="false">
            <soe-accordion label-key="time.employee.employment.hibernatingscheduleandabsence" is-open="true">

                <div class="margin-large-left margin-small-right repeater-semi-condensed" data-ng-repeat="block in ctrl.timeHibarnatingAbsence.rows" data-ng-click="ctrl.selectedBlock = block">
                    <div class="form-group form-group-sm">
                        <div data-ng-if="$first">
                            <div class="row">
                                <div class="col-sm-4">
                                    <soe-label label-key="common.date"></soe-label>
                                </div>
                                <div class="col-sm-2">
                                    <soe-label label-key="time.schedule.planning.editassignment.schedule.scheduletime"></soe-label>
                                </div>
                                <div class="col-sm-2">
                                    <soe-label label-key="time.payroll.startvalues.absencetime"></soe-label>
                                </div>

                            </div>
                        </div>
                        <div class="row" data-ng-class="{'repeater-selected-row': ctrl.selectedBlock === block}" style="margin-left: -20px;">
                            <div class="col-sm-4">
                                <em class="fas fa-caret-right" data-ng-if="ctrl.selectedBlock === block"></em>
                                <soe-datepicker hidelabel="true" model="block.date"  is-readonly="true"></soe-datepicker>
                            </div>
                            <div class="col-sm-2">
                                <soe-timebox hidelabel="true" model="block.scheduleTimeMinutes" on-blur="ctrl.checkValues($index)"></soe-timebox>
                            </div>
                            <div class="col-sm-2">
                                <soe-timebox hidelabel="true" model="block.absenceTimeMinutes" on-blur="ctrl.checkValues($index)"></soe-timebox>
                            </div>
                        </div>
                    </div>
                </div>
            </soe-accordion>
        </uib-accordion>

    </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-l10n-bind="'core.cancel'" data-ng-click="ctrl.cancel()"></button>
            <button type="button" class="btn btn-primary" data-l10n-bind="'core.save'" data-ng-click="ctrl.save()"></button>
        </div>

</form>
