<form name="ctrl.edit" class="ngSoeForm" novalidate autocomplete="off"  data-form-state="ctrl.isDirty">
    <div class="messagebox">
        <div class="modal-header">
            <button type="button" class="close" data-ng-click="ctrl.buttonCancelClick()">&times;</button>
            <h6 class="modal-title" data-l10n-bind="'time.payroll.payrollcalculation.transactionsnothandled'"></h6>
        </div>
        <soe-progressbar is-busy="ctrl.progressBusy" message="ctrl.progressMessage"></soe-progressbar>
        <div class="modal-body" style="min-height:300px">                        
            <div class="row" data-ng-if="ctrl.isBackwards">
                <div class="col-sm-4">
                    <soe-datepicker label-key="time.payroll.payrollcalculation.transactionsnothandled.datefrom" model="ctrl.selectedStartDate"></soe-datepicker>
                </div>
            </div>
            <div class="row margin-small-top">
                <div class="col-sm-12">
                    <div data-ui-grid="ctrl.gridOptions.gridOptions" ui-grid-selection ui-grid-auto-resize ui-grid-cellNav></div>
                </div>
            </div>            
            <div>
                <div class="row"  data-ng-if="ctrl.isBackwards">
                    <div class="col-sm-4">
                        <soe-select label-key="time.time.timeperiod.timeperiod" model="ctrl.timePeriodId" items="ctrl.timePeriods" options="item.timePeriodId as item.paymentDateString for item in items" auto-focus="true" data-ng-show="!ctrl.createNewTimePeriod"></soe-select>
                    </div>
                </div>
                <div class="row"  data-ng-if="ctrl.isBackwards">
                    <div class="col-sm-6">
                        <soe-checkbox label-key="time.payroll.payrollcalculation.createnewtimeperiod" model="ctrl.createNewTimePeriod" inline="true"></soe-checkbox>
                    </div>
                </div>
            </div>
            <div data-ng-if="ctrl.createNewTimePeriod">
                <div class="row">
                    <div class="col-sm-6">
                        <soe-textbox label-key="common.name" model="ctrl.newTimePeriodName" required="true" maxlength="100"></soe-textbox>
                    </div>
                    <div class="col-sm-6">
                        <soe-datepicker label-key="time.time.timeperiod.paymentdate" model="ctrl.newTimePeriodPaymentDate" required="true"></soe-datepicker>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <soe-datepicker label-key="common.fromdate" model="ctrl.createNewTimePeriodStartDate" required="true"></soe-datepicker>
                    </div>
                    <div class="col-sm-6">
                        <soe-datepicker label-key="common.todate" model="ctrl.createNewTimePeriodStopDate" required="true"></soe-datepicker>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <soe-datepicker label-key="common.fromdate" model="ctrl.createNewTimePeriodStartDate" required="true"></soe-datepicker>
                    </div>
                    <div class="col-sm-6">
                        <soe-datepicker label-key="common.todate" model="ctrl.createNewTimePeriodStopDate" required="true"></soe-datepicker>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <soe-checkbox label-key="time.time.timeperiod.extraperiod" model="ctrl.createNewTimePeriod" is-disabled="true"></soe-checkbox>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer" data-ng-if="!ctrl.progressBusy">
            <div class="pull-right">
                <div class="col" data-ng-include src="ctrl.cancelButtonTemplateUrl" />
                <button type="button" class="btn btn-sm ngSoeMainButton" data-ng-if="!ctrl.isBackwards && ctrl.timePeriodId > 0" data-l10n-bind="'core.save'" data-l10n-bind-title="'core.save'" data-ng-click="ctrl.save()"></button>
                <div data-ng-if="ctrl.isBackwards" class="col" data-ng-include src="ctrl.saveButtonTemplateUrl" />                
            </div>
        </div>
    </div>
</form>

