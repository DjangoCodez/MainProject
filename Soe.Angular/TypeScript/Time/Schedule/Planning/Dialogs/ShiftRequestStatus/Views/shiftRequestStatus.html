<div>
    <div class="modal-header">
        <button type="button" class="close" data-ng-click="ctrl.cancel()">&times;</button>
        <h6 class="modal-title">
            <span data-l10n-bind="'time.schedule.planning.shiftrequeststatus.title'"></span>
        </h6>
    </div>
    <div class="modal-body">
        <div>
            <div class="row">
                <div class="col-sm-12">
                    <span data-ng-bind-html="ctrl.status.text | formatHtml"></span>
                </div>
            </div>
            <div class="row margin-large-top margin-large-bottom">
                <div class="col-sm-3">
                    <soe-label label-key="time.schedule.planning.shiftrequeststatus.sentdate"></soe-label>
                    <span>{{::ctrl.status.sentDate | date:'shortDate'}} {{::ctrl.status.sentDate | date:'shortTime'}}</span>
                </div>
                <div class="col-sm-9">
                    <soe-label label-key="common.by"></soe-label>
                    <span>{{::ctrl.status.senderName}}</span>
                </div>
            </div>
        </div>
        <soe-panel label-key="core.xemail.receivers" condensed="true">
            <div class="table-responsive">
                <table class="table table-condensed table-hover strikeable">
                    <thead>
                        <tr>
                            <th scope="col" data-l10n-bind="'common.employee'"></th>
                            <th scope="col" data-l10n-bind="'time.schedule.planning.shiftrequeststatus.readdate'"></th>
                            <th scope="col" data-l10n-bind="'time.schedule.planning.shiftrequeststatus.answerdate'"></th>
                            <th scope="col" data-l10n-bind="'time.schedule.planning.shiftrequeststatus.answertype'"></th>
                            <th scope="col" data-ng-if="ctrl.modifyPermission"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-ng-repeat="recipient in ctrl.status.recipients" data-ng-class="{'success':recipient.answerType == 1, 'danger':recipient.answerType == 2, 'strikeout': recipient.state == 2}" data-ng-attr-title="{{recipient.modifiedInfo}}">
                            <td data-ng-class="{'strikeout': recipient.state == 2}"><span>({{::recipient.employeeNr}}) {{::recipient.employeeName}}</span></td>
                            <td data-ng-class="{'strikeout': recipient.state == 2}"><span>{{::recipient.readDate | date:'shortDate'}} {{::recipient.readDate | date:'shortTime'}}</span></td>
                            <td data-ng-class="{'strikeout': recipient.state == 2}"><span>{{::recipient.answerDate | date:'shortDate'}} {{::recipient.answerDate | date:'shortTime'}}</span></td>
                            <td data-ng-class="{'strikeout': recipient.state == 2}"><span>{{::recipient.answerTypeText}}</span></td>
                            <td data-ng-class="{'strikeout': recipient.state == 2}" data-ng-if="ctrl.modifyPermission" data-l10n-bind data-l10n-bind-title="'time.schedule.planning.shiftrequeststatus.removerecipient'"><i class="fal fa-times iconDelete link" data-ng-if="recipient.answerType != 1 && recipient.state === 0" data-ng-click="ctrl.removeRecipientFromShiftRequest(recipient);"></i></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </soe-panel>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default" data-l10n-bind="'core.undo'" data-l10n-bind-title="'time.schedule.planning.shiftrequeststatus.undorequest'" data-ng-if="ctrl.showUndoRequest" data-ng-click="ctrl.undoRequest()"></button>
        <button type="button" class="btn btn-primary" data-l10n-bind="'core.close'" data-ng-click="ctrl.cancel()"></button>
    </div>
</div>
